# DDD를 읽고 후기.
JPA 책인줄 알았습니다.. JPA에 대한 내용이 많이 들어가 있었지만
그래도 기초를 다지기에는 좋았던 책이였습니다.   
   
CQRS의 내용이 마지막에 나왔는데 면접 내용에서 CQRS를 어떻게 적용해야 하는지에 대한 질문을 받은적이 있는데   
해당 내용의 해답이 책에 있었습니다.   
조회와 커맨드의 분리를 해서 구축하는게 CQRS인데 조회 속도를 더 빠르게 하려고 캐시를 두거나 모델을 따로 두거나   
NoSql로 구축을 하는 모든 방법들이 CQRS의 패턴을 사용한다고 생각해도 된다고 합니다.   
꼭 디비를 따로 두거나 애플리케이션을 따로 두어야만 CQRS가 완성되는게 아닌 조회를빠르게 하려고 구축하고 도입하는   
모든게 CQRS의 적용이라고 합니다.    

** 조회성 데이터를 캐시를 두려고 할때는 데이터를 가공된 상태 그대로 캐시로 내려주는게 좋다고 합니다.   
캐시로 조회를 해서 데이터를 또 합치고 그런 과정보다 완성된 response 데이터를 그대로 캐싱하는게 효과적인 방법이라고 소개합니다.


https://www.youtube.com/watch?v=4QHvTeeTsj0   
https://www.youtube.com/watch?v=kmUneexSxk0   
위의 2개의 강의가 더 좋을것 같다는 말이 많아서 같이 보면 좋을것 같아서 공유 드립니다.

# 컨테이너
하나의 운영체제 커널에서 다른 프로세스에 영향을 받지 않고 독립적으로 실행되는 프로세스 상태를 의미

# 컨테이너 인프라 환경
리눅스 운영 체제의 커널 하나에서 여러 개의 컨테이너가 격리된 상태로 실행되는 인프라 환경을 말한다.   
컨테이너, 컨테이너 관리, 개발 환경 구성 및 배포 자동화, 모니터링으로 구성   

# 도커
컨테이너 환경에서 독립적으로 애플리케이션을 실행할 수 있도록 컨테이너를 만들고 관리하는 것을 도와주는 컨테이너 도구
* 비슷한 도구로 테이너디, 크라이오, 파드맨등이 있지만 도커를 가장 많이 사용

# 쿠버네티스 (Kubernetes == k8s 약어)
쿠버네티스는 다수의 컨테이너를 관리하는데 사용.   
* 자동 배포와 배포된 컨테이너에 대한 동작 보증, 부하에 따른 동적 확장 등의 기능을 제공
* 비슷한 도구로 도커 스웜, 메소스, 노마드 등이 있지만 쿠버네티스만이 급격한 상승세를 보이고 있음    

**컨테이너 관리 도구라고 설명 하지만 실제로는 컨테이너 오케스트레이션을 위한 솔루션.   
컨테이너 오케스트레이션이란 복잡한 단계를 관리하고 요소들의 유기적인 관계를 미리 정의해 손쉽게 사용하도록 서비스를 제공하는 것을 의미한다.**   
   
![image](https://user-images.githubusercontent.com/20812458/229264904-3967c261-0b9d-4b4f-a592-54f312df879c.png)


# 젠킨스
지속적 통합과 지속적 배포 CI/CD를 지원

# 프로메테우스와 그라파나
프로메테우스와 그라파나는 모니터링을 위한 도구
* 프로메테우스는 상태 데이터를 수집하고, 그라파나는 프로메테우스로 수집한 데이터를 관리자가 보기 좋게 시각화 한다
* 비슷한도구로 데이터독, 인플럭스DB, 뉴 렐릭 등이 있지만 유료이고 오픈소스로는 프로메테우스가 가장 좋음
* 데이터 시각화 도구는 그라파나 외에도 키바나, 크로노그래프 등이 있으나 그라파나와 키바나가 시장을 양분한 상태
* 프로메테우스와 키바나는 연결 구성이 복잡해서 그라파나와 연결을 많이 함

![image](https://user-images.githubusercontent.com/20812458/229264339-2b7973a6-0828-485c-a3b7-b6dc798fe9d9.png)

# 코드형 인프라
테스트를 일관되게 결과를 얻으려면 코드형 인프라를 사용해서 서버를 구축하면 된다.   
코드형 인프라란 쉽게 말해 코드로 하드웨어를 설정하고, 운영 체제를 설치하고, 네트워크를 구성하고, 개발 환경을 구축하는것이다.   
즉 코드로 인프라를 소프트웨어처럼 다룰 수 있다는거다.   
Terraform, AWS CloudFormation과 비슷.

# 쿠버네티스 구성 방법 3가지
1. 퍼블릭 클라우드 업체에서 제공하는 관리형 쿠버네티스인 EKS, AKS, GKE를 사용
2. 수세의 Rancher, 레드햇의 OpenShift와 같은 플랫폼에서 제공하는 설치형 쿠버네티스를 사용. 유료
3. 사용하는 시스템에서 쿠버네티스 클러스터를 자동으로 구성해주는 솔루션을 사용. 주로 kubeadm, kops, krib, kubespray가 있음.   kubeadm 사용자가 변경하기도 수월하고 온프레미스와 클라우드를 모두 지원하며 배우기도 쉽다. 이러한 솔루션들을 구성형 쿠버네티스라고 합니다.

![image](https://user-images.githubusercontent.com/20812458/229266631-1dd6153b-cfc8-440d-af77-f35063bf2422.png)



