# 1
## Spring Proxy

- Spring AOP는 jdk dynamic Proxy 또는 CGLIB를 통해 proxy라는 것을 생성한다고 한다.
- Spring 3.2버전부터 Spring Core 패키지에 cglib가 포함되었고,
  4버전에는 Objensis의 도움으로 default 생성자 없이 proxy 생성할 수 있고,
  생성자가 2번 호출되는 단점도 개선되었다고 한다.
- 프록시 대상 객체가 하나 이상의 인터페이스를 구현하는 경우 JDK 동적 프록시가 사용한다. 
- 대상 개체가 인터페이스를 구현하지 않으면 CGLIB 프록시가 생성된다.

- cglib 사용하지 않았던 이유.(현재는 다 수정이 되어서 제일 권장하는 프록시.)
  - defalut 생성자가 필요
  - enhancer이 없어서 의존성 주입 필요
  - 타겟의 생성자 2번 호출되는 버그 

- Spring 어노테이션의 기본 프록시도 CGLIB이다.
- 확인방법은 프록시로 연결된 서비스의 getClass()를하면 jdk dynamic Proxy이면 Proxy라고 이름이 적혀있고 CGLIB라면 CGLIB라고 이름이 적혀있다.

<img width="697" alt="image" src="https://user-images.githubusercontent.com/20812458/160224737-bc9c9a6c-687e-452e-8696-743bc6df6d83.png">

<img width="872" alt="image" src="https://user-images.githubusercontent.com/20812458/160226573-94aa1896-7b95-40e7-918b-dcb60dd61f53.png">

<img width="815" alt="image" src="https://user-images.githubusercontent.com/20812458/160226581-898c5ebc-9081-48a7-a0e9-49b5eea7187e.png">

<img width="1037" alt="image" src="https://user-images.githubusercontent.com/20812458/160226599-af79ae4d-408a-4813-a1d4-eea3b7cc5b70.png">

<img width="1031" alt="image" src="https://user-images.githubusercontent.com/20812458/160226606-cf4c33e5-7f57-4e30-bf00-da3c52347010.png">

인터페이스를 넣어도 결과는 똑같다.

<img width="1017" alt="image" src="https://user-images.githubusercontent.com/20812458/160226619-9b901d12-2777-419e-8675-a9e083367ee2.png">


[출처] https://velog.io/@gwontaeyong/Spring-AOP%EC%97%90%EC%84%9C-Proxy%EB%9E%80   
[출처] https://sa1341.github.io/2019/05/25/%EC%8A%A4%ED%94%84%EB%A7%81-AOP-%EA%B0%9C%EB%85%90-%EB%B0%8F-Proxy%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EA%B5%AC%EB%8F%99%EC%9B%90%EB%A6%AC/   
[출처] https://mangkyu.tistory.com/175?category=761302   
[출처] https://www.youtube.com/watch?v=RHxTV7qFV7M   

# 2
## Transactional Async

- 가져온 PPT로 대체.

- 테스트 @Transactional이 없는 메소드에서 자신의 @Transactional이 붙은 메서드를 실행
- 결과 아래와 같은 경우 JPA의 변경감지가 일어나지 않음
 
    ```
      public class Test {
          public void update() {
              this.updateTransactional();
          }

          @Transactional(readOnly = false)
          public void updateTransactional() {
              TestEntity testEntity = this.service.findOne(1L);
              testEntity.setName("update name");
          }
      }
    ```
    
# 3
## OS의 캐시 구조





