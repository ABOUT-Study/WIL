# 1
# inner join vs EXISTS


  1. inner join    
    1:n의 관계이기 때문에 결과는 n개가 출력되며 정보는 반복되어 출력됨을 알 수 있다.   
    이를 제거하려면 DISTINCT를 써서 중복 데이터를 제거할수 있다.
    
    ₩₩₩
    SELECT COUNT(DISTINCT c_name)
    FROM orders INNER JOIN customer
      ON orders.o_custkey = customer.c_custkey
    WHERE orders.o_orderDATE BETWEEN '1991-01-01'
      AND '1999-12-31';
    ₩₩₩
    
  2. EXISTS  
    EXISTS의 경우는 inner query를 만족하는 레코드를 처음 만나는 순간 EXISTS가 true이므로 inner query를 더 이상 Evaluation하지 않는다.   
    이 점이 INNER JOIN과 EXISTS의 큰 차이이며 성능의 차이를 보인다.   
    
    ₩₩₩
    SELECT COUNT(c_name)
    FROM customer WHERE EXISTS (
        SELECT 1 FROM orders 
        WHERE orders.o_custkey = customer.c_custkey
          AND orders.o_orderDATE
              BETWEEN '1991-01-01' AND '1999-12-31'
    );
    ₩₩₩
    
  3. inner join vs EXISTS   
    존재의 유무를 파악하는 쿼리를 짜야할때는 inner join 보다는 EXISTS를 사용하는게 성능에 훨씬 좋다.   
    
