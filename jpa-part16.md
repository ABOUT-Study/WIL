# 16장 트랜잭션과 락, 2차 캐시

## 트랜잭션과 락
트랜잭션은 ACID 라 하는 원자성, 일관성, 격리성, 지속성을 보장해야한다.
- 원자성 : 트랜잭션 내에서 실행한 작업들은 마치 하나의 작업인 것처럼 모두 성공 하든가 모두 실패해야 한다.
- 일관성 : 모든 트랜잭션은 일관성 있는 데이터베이스 상태를 유지해야 한다.
- 격리성 : 동시에 실행되는 트랜잭션들이 서로에게 영향을 미치지 않도록 격리한다.
- 지속성 : 트랜잭션을 성공적으로 끝내면 그 결과가 항상 기록되어야 한다.

문제는 격리성인인데 트래잭션 간에 격리성을 완벽히 보장하려면 트랜잭션을 거의 차례대로 실행해야 한다.  
이런 문제로 인해 ANSI 표준은 트랜잭션의 격리 수준을 4단계로 나누어 정의했다.  
- READ UNCOMMITED(커밋되지 않은 읽기) -> DRITY READ 발생 : 커밋하지 않은 데이터를 읽을 수 있다.
- READ COMMITTED(커밋된 읽기) -> NON-REPEATABLE READ 발생 : 반복해서 같은 데이터를 읽을 수 없다.
- REPEATABLE READ(반복 가능한 읽기) -> PHANTOM READ 발생 : 반복 조회 시 결과 집합이 달라진다.
- SERIALIZABLE(직렬화 가능) -> 가장 엄격한 격리 수준으로 PHANTOM READ가 발생하지 않는다.


```Java
```
